{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport default function getImagesByQuery(query) {\n  const API_KEY = '50853437-9ef5a88e343e45432612d628f';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return axios\n    .get(`https://pixabay.com/api/`, { params })\n    .then(response => response.data);\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst loader = document.querySelector(\".loader\");\nconst gallery = document.querySelector(\".gallery\")\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionPosition: 'bottom',\n    captionsData: 'alt'});\n\nexport default function renderImages(images) {\n    const createMarkup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n    <li class=\"image-box\">\n        <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"300\">\n        </a>\n        <div class=\"image-stats\">\n            <div class=\"image-stat\">\n                <span class=\"label\">Likes</span>\n                <span class=\"value\">${likes}</span>\n            </div>\n            <div class=\"image-stat\">\n                <span class=\"label\">Views</span>\n                <span class=\"value\">${views}</span>\n            </div>\n            <div class=\"image-stat\">\n                <span class=\"label\">Comments</span>\n                <span class=\"value\">${comments}</span>\n            </div>\n            <div class=\"image-stat\">\n                <span class=\"label\">Downloads</span>\n                <span class=\"value\">${downloads}</span>\n            </div>\n        </div>\n    </li>`).join(\"\");\n\n    gallery.innerHTML = createMarkup;\n    lightbox.refresh()\n};\n\nexport function resetGallery() {\n    gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n    loader.classList.add(\"hidden\");\n}","import fetchImages from './js/pixabay-api';\nimport renderImages, { resetGallery, showLoader, hideLoader } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('.form');\n\nsearchForm.addEventListener('submit', onSearchSubmit);\n\nfunction onSearchSubmit(e) {\n  e.preventDefault();\n  const query = e.currentTarget.elements['search-text'].value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      message: 'Введіть ключове слово для пошуку.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  resetGallery();\n  showLoader();\n\n  fetchImages(query)\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        iziToast.info({\n          message: 'Нічого не знайдено. Спробуйте інший запит.',\n          position: 'topRight',\n        });\n        return;\n      }\n      renderImages(hits);\n    })\n    .catch(error => {\n      console.error('Fetch error:', error);\n      iziToast.error({\n        message: 'Не вдалося отримати зображення. Спробуйте пізніше.',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\n"],"names":["getImagesByQuery","query","API_KEY","params","axios","response","loader","gallery","lightbox","SimpleLightbox","renderImages","images","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","resetGallery","showLoader","hideLoader","searchForm","onSearchSubmit","e","iziToast","fetchImages","hits","error"],"mappings":"+vBAEe,SAASA,EAAiBC,EAAO,CAC9C,MAAMC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAOG,EACJ,IAAI,2BAA4B,CAAE,OAAAD,CAAM,CAAE,EAC1C,KAAKE,GAAYA,EAAS,IAAI,CACnC,CCbA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,gBAAiB,SACjB,aAAc,KAAK,CAAC,EAET,SAASC,EAAaC,EAAQ,CACzC,MAAMC,EAAeD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,mBAE/FL,CAAa;AAAA,oBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sCAKRC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sCAIRC,CAAS;AAAA;AAAA;AAAA,UAGrC,EAAE,KAAK,EAAE,EAEfZ,EAAQ,UAAYK,EACpBJ,EAAS,QAAS,CACtB,CAEO,SAASY,GAAe,CAC3Bb,EAAQ,UAAY,EACxB,CAEO,SAASc,GAAa,CACzBf,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASgB,GAAa,CACzBhB,EAAO,UAAU,IAAI,QAAQ,CACjC,CC7CA,MAAMiB,EAAa,SAAS,cAAc,OAAO,EAEjDA,EAAW,iBAAiB,SAAUC,CAAc,EAEpD,SAASA,EAAeC,EAAG,CACzBA,EAAE,eAAc,EAChB,MAAMxB,EAAQwB,EAAE,cAAc,SAAS,aAAa,EAAE,MAAM,OAE5D,GAAI,CAACxB,EAAO,CACVyB,EAAS,QAAQ,CACf,QAAS,oCACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDN,IACAC,IAEAM,EAAY1B,CAAK,EACd,KAAK,CAAC,CAAE,KAAA2B,KAAW,CAClB,GAAIA,EAAK,SAAW,EAAG,CACrBF,EAAS,KAAK,CACZ,QAAS,6CACT,SAAU,UACpB,CAAS,EACD,MACD,CACDhB,EAAakB,CAAI,CACvB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,eAAgBA,CAAK,EACnCH,EAAS,MAAM,CACb,QAAS,qDACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbJ,GACN,CAAK,CACL"}